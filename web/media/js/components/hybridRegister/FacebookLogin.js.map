{"version":3,"sources":["FacebookLogin.jsx"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;MASqB,a;;;AACnB,2BAAY,KAAZ,EAAkB;AAAA;;AAAA,gIACV,KADU;;AAEhB,YAAK,sBAAL,GAA8B,MAAK,sBAAL,CAA4B,IAA5B,OAA9B;AACA,YAAK,iBAAL,GAA8B,MAAK,iBAAL,CAAuB,IAAvB,OAA9B;AACA,YAAK,qBAAL,GAA8B,MAAK,qBAAL,CAA2B,IAA3B,OAA9B;AACA,YAAK,UAAL,GAA8B,MAAK,UAAL,CAAgB,IAAhB,OAA9B;AALgB;AAMjB;;;;+BAEQ,I,EAAK;AACZ,+HAAe,IAAf;AACA,aAAK,UAAL,CAAgB,IAAhB;AACD;;;iCAEU,I,EAAK;AACd,aAAK,KAAL,CAAW,UAAX,CAAsB,IAAtB;AACD;;;6CAEsB,C,EAAE;AACvB,aAAK,QAAL,CAAc,EAAC,WAAU,IAAX,EAAd;AACD;;;wCAEiB,Q,EAAS;AACzB,YAAI,WAAW,IAAI,QAAJ,EAAf;AACA,iBAAS,MAAT,CAAgB,MAAhB,EAA2B,KAAK,KAAL,CAAW,IAAtC;AACA,iBAAS,MAAT,CAAgB,MAAhB,EAA2B,SAAS,EAApC;AACA,iBAAS,MAAT,CAAgB,SAAhB,EAA2B,SAAS,KAApC;AACA,iBAAS,MAAT,CAAgB,QAAhB,EAA2B,SAAS,IAApC;;AAEA,aAAK,IAAL,CAAU,QAAV;AACD;;;4CAEqB,Q,EAAS;AAC7B,aAAK,QAAL,CAAc,EAAC,WAAU,KAAX,EAAd;AACD;;;+BAEQ;AACP,eACE;AAAA;AAAA,YAAK,WAAU,WAAf;AACE,wCAAC,6BAAD,IAAqB,WAAW,KAAK,KAAL,CAAW,SAA3C,EAAsD,SAAS,KAAK,sBAApE,EAA4F,eAAe,KAAK,qBAAhH,EAAuI,aAAa,KAAK,iBAAzJ,GADF;AAEE,wCAAC,sBAAD,IAAc,SAAS,KAAK,KAAL,CAAW,KAAlC;AAFF,SADF;AAMD;;;;IA3CwC,c;;oBAAtB,a","file":"FacebookLogin.js","sourcesContent":["/**\n * Created by colinleung on 20/4/2017.\n */\n\nimport React from 'react';\nimport ButtonFacebookLogin from '../uiElements/ButtonFacebookLogin';\nimport Form from \"../uiElements/Form\";\nimport ErrorMessage from \"../uiElements/ErrorMessage\"\n\nexport default class FacebookLogin extends Form {\n  constructor(props){\n    super(props);\n    this.onFacebookConnectStart = this.onFacebookConnectStart.bind(this);\n    this.onFacebookConnect      = this.onFacebookConnect.bind(this);\n    this.onFacebookConnectFail  = this.onFacebookConnectFail.bind(this);\n    this.onSignedIn             = this.onSignedIn.bind(this);\n  }\n\n  onResult(data){\n    super.onResult(data);\n    this.onSignedIn(data);\n  }\n\n  onSignedIn(data){\n    this.props.onSignedIn(data);\n  }\n\n  onFacebookConnectStart(e){\n    this.setState({isLoading:true});\n  }\n\n  onFacebookConnect(response){\n    let postData = new FormData();\n    postData.append('code',    this.props.code);\n    postData.append('fbid',    response.id);\n    postData.append('fbtoken', response.token);\n    postData.append('fbname',  response.name);\n\n    this.post(postData);\n  }\n\n  onFacebookConnectFail(response){\n    this.setState({isLoading:false});\n  }\n\n  render() {\n    return (\n      <div className=\"selection\">\n        <ButtonFacebookLogin isLoading={this.state.isLoading} onClick={this.onFacebookConnectStart} onConnectFail={this.onFacebookConnectFail} onConnected={this.onFacebookConnect}/>\n        <ErrorMessage message={this.state.error} />\n      </div>\n    );\n  }\n}"]}