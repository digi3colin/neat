{"version":3,"sources":["HybridLogin.jsx"],"names":[],"mappings":"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","file":"HybridLogin.js","sourcesContent":["import React from 'react';\n\nimport Select from './Select';\nimport InputPassword from './InputPassword';\nimport ForgotPassword from './ForgotPassword';\nimport Register from './Register';\nimport ButtonLogout from '../uiElements/ButtonLogout';\nimport Carousel from '../Carousel/Carousel';\n\nimport {connect} from \"react-redux\";\n\nclass HybridLogin extends React.Component{\n  constructor(props){\n    super(props);\n\n    this.onSignedIn      = this.onSignedIn.bind(this);\n    this.onSignedOut     = this.onSignedOut.bind(this);\n    this.onPageChange    = this.onPageChange.bind(this);\n    this.onInviteSuccess = this.onInviteSuccess.bind(this);\n    this.onForgotSent    = this.onForgotSent.bind(this);\n  }\n\n  onSignedIn(data){\n    this.props.onSignedIn(data);\n  }\n\n  onSignedOut(data){\n    this.props.onSignedOut(data);\n  }\n\n  onPageChange(page){\n    this.props.onPageChange(page);\n  }\n\n  onInviteSuccess(data){\n    this.props.onInviteSuccess(data);\n  }\n\n  onForgotSent(data){\n    this.props.onForgotSent(data);\n  }\n\n  render(){\n    const signoutPanel =\n      (<div className=\"multi-page-form\">\n        <ButtonLogout action=\"user/logout\" onSignedOut={this.onSignedOut}/>\n      </div>);\n\n    const loggedInPanel =\n      (<div className=\"multi-page-form\">\n        <Carousel         onPageChange={this.onPageChange} page={this.props.page}>\n          <Select         onPageChange={this.onPageChange} action=\"user/login_submit\" onSignedIn={this.onSignedIn}/>\n          <InputPassword  onPageChange={this.onPageChange} action=\"user/login_submit\" onSignedIn={this.onSignedIn}/>\n          <ForgotPassword action=\"user/reset_password_submit\" step={this.props.isForgotPasswordSent ? 2 : 1} onResultSuccess={this.onForgotSent}/>\n          <Register       action=\"contributor/invite_submit\" isInvited={this.props.isInvited} onResultSuccess={this.onInviteSuccess}/>\n        </Carousel>\n      </div>);\n\n    return this.props.isLoggedIn ? signoutPanel : loggedInPanel;\n  }\n}\n\nexport default connect(\n  state =>{\n    return {\n      page: state.page,\n      isLoggedIn: state.isLoggedIn,\n      isInvited: state.isInvited,\n      isForgotPasswordSent: state.isForgotPasswordSent,\n    }\n  },\n\n  dispatch => {\n    return {\n      onSignedIn : (data) => {\n        if(data.status === 'success'){\n          dispatch({type:\"CHANGE_LOGIN_STATE\", payload: true });\n          dispatch({type:\"UPDATE_USER\", payload: data});\n        }\n      },\n      onSignedOut : (data) => {\n        dispatch({type:\"CHANGE_PAGE\", payload:1});\n        dispatch({type:\"CHANGE_LOGIN_STATE\", payload:(data.status !== 'success')});\n        dispatch({type:\"SET_USER_NAME\", payload: null});\n        dispatch({type:\"SET_NICK_NAME\", payload: null});\n        dispatch({type:\"SET_CONTRIBUTOR_KEY\", payload: null});\n      },\n\n      onPageChange : (page) => {\n        dispatch({type: \"CHANGE_PAGE\", payload: page});\n        dispatch({type: \"CHANGE_INVITE_SUCCESS\", payload: false});\n        dispatch({type: \"CHANGE_FORGOT_SENT\", payload: false});\n      },\n\n      onInviteSuccess : (data) => {\n        dispatch({type: \"CHANGE_INVITE_SUCCESS\", payload: data.status});\n      },\n\n      onForgotSent : (data) => {\n        dispatch({type: \"CHANGE_FORGOT_SENT\", payload: data.status});\n      }\n    }\n  }\n)(HybridLogin);"]}